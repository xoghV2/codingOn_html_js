<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        console.log(1);
        //set timeout (code,delay) : delay시간동안 기다렸다가 code를 실행
        //비동기처리 코드를 먼저 처리할 수 있는 것부터 처리한 후 그 후 실행
        setTimeout(function(){
             console.log(2);
        },3000)
        console.log(3);

        //문제점이 있는 코드
        //function 
        // function goMart (){
        //     console.log("마트에 가서 어떤 음료를 살지 고민한다.");
        // }

        // function picDrink(){
        //     setTimeout( ()=>{
        //         console.log("고민끝")
        //         product = '제로콜라';
        //         price = 3000;
        //     },3000);
        // }

        // function pay(product,price){
        //     console.log(`상품명: ${product}, 가격:${price}`);
        // }

        // let product;
        // let price; 
        // goMart();
        // picDrink();
        // pay(product,price);
        
        //콜백 함수 생김새 
        // 콜백 함수(익명함수 )는 함수타입 파라미터 맨 마지막에 하나 더 선언
        // 함수가 실행을 끝낸 후 실행되는 함수가 콜백 함수이다. 

        function mainFunc(param1,param2,callback){
            console.log(param1);
            console.log(param2);
            callback();
        }
       

        function callbackFunc(){
            console.log("콜백 함수 입니다. ")
        }

        mainFunc(1,2,callbackFunc);
        //콜백을 사용하는 이유 
        // 1. 비동기 작업의 완료를 처리하기 위해 
        // 2. 비동기 작업의 순서를 제어하기 위해
        // 3. 이벤트기반 프로그래밍을 지원하기 위해

        //콜백함수 사용

        function goMart (){
            console.log("마트에 가서 어떤 음료를 살지 고민한다.");
        }

        function picDrink(cb){
            setTimeout( ()=>{
                console.log("고민끝")
                product = '제로콜라';
                price = 3000;
                cb(product,price);
            },3000);
        }
        //기명함수 방법
        function payCallback(product,price){
            console.log(`상품명: ${product}, 가격:${price}`);
        }

        let product;
        let price;
        goMart();
        picDrink(payCallback);
        //익명함수 방법
        picDrink( function(product,price){
            console.log(`상품명: ${product},가격:${price}`);
        })


    





    </script>
</body>
</html>