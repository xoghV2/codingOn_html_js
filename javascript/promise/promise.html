<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> promise </title>
</head>
<body>
    <script>
        function promiseFunc(flag){ // flag란 true , false 값을 표현한다는 뜻 

            return new Promise(function(resolve,reject){
                if(flag){
                    resolve(`promise상태는 fulfilled!, then으로 연결합니다.`);
                }else{
                    reject(`promise상태는 rejected!, catch로 연결됩니다.`);
                }
            });
        }
                // return new Promise ( (resolve,reject )=> {})
             promiseFunc(false).then(function(message){
                console.log(message);
             }).catch(function(err){
                console.log(err)
             })
            
        
             //마트예제 

             function goMart(){
                console.log("마트에 가서 어떤 음료를 살 지 고민한다");
             }
             function pickDrink(){
                return new Promise(()=>{
                    setTimeout(()=>{
                        console.log('고민끝');
                        product = '코카콜라';
                        price = 2000;
                        resolve();
                    },2000);
                });
             }

             function pay(){
                console.log(`상품명: ${product},가격:${price}`);
             }

             let product;
             let price;
            //  goMart();
            //  pickDrink().then(pay);

            // 화살표 함수일떄는 어떻게 하나요 
            // const xogh1 = async() => {}
             async function xogh(){ //전체 함수를 묶어주는 함수에 async
                goMart();
                await pickDrink(); //인자값을 따로 받아오지않음 .then으로 받아오지 않아서 
                pay();
             }

    </script>
</body>
</html>