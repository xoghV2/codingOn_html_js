<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // (4+3)2-1 = 13 

        //콜백
        // function add(num1,num2,callback){
        //     setTimeout(()=>{
        //         const result = num1 + num2 ;
        //         callback(result)                
        //     },1000)
        // }
        // function mul(num, callback){
        //     setTimeout(()=>{
        //         const result = num * 2 ;
        //         callback(result)
        //     },700)
        // }
        //     function sub(num,callback){
        //         setTimeout(()=>{
        //             const result = num - 1 ;
        //             callback(result);

        //         },500);
        //     }
        //실행
        // add(4,3,function(x){
        //     console.log("1: ",x);
        //     mul(x,function(y){
        //         console.log("2: ",y);
        //         sub(y,function(z){
        //             console.log("3:",z);
        //         });
        //     });
        // });


        // //promise
        // function add(num1,num2){
        //     return new Promise ((resolve,reject)=>{
        //         setTimeout(()=>{
        //             const result =  num1 + num2;
        //             resolve(result);
        //         },1000);
        //     });
        // }
        // function mul(num){
        //     return new Promise((resolve)=>{
        //         setTimeout(()=>{
        //         const result = num * 2;
        //         resolve(result);
        //         })   
        //     });
        // }

        // function sub(num){
        //     return new Promise((resolve)=>{
        //         setTimeout(()=>{
        //             const result = num - 1;
        //             resolve(result);
        //         },500)
               
        //     });
        // }

        // //실행

        // add(4,3).then(function(res){
        //     console.log("add:",res);
        //     return mul(res);
        // }).then(function(res1){
        //     console.log("mul:",res1);
        //     return sub(res1);
        // }).then(function(res2){
        //     console.log("sub:",res2);
        // })


        function login(name){
            return new Promise ((resolve,reject)=>{
                setTimeout(()=>{
                    console.log(name);
                    resolve(name);
                    // resolve(`${name}반가워`) 해도 됨 밑에서는 console.log(name) 만해도 나옴
                },1000);
            })
        }
        
        function getVideo(cb){
            return new Promise ((resolve)=>{
                setTimeout(()=>{
                    console.log("back");
                    resolve("back");
                },1000);
            })
        }
        
        function getDetail(cb){
            return new Promise ((resolve)=>{
                setTimeout(()=>{
                    resolve("callback hell");
                },1000);
            })
        }
        
        async function xogh(){
            let user = await login("kim");
            console.log(user + "님 환영합니다.");
            let videos = await getVideo(user);
            console.log(videos +"을 실행했구나");
            let title = await getDetail(videos[0]);
            console.log("여기는 " +title);
        }
        xogh()
        
        //리더님 정답 
        // async function exec(){
        //     let user = await call("kim");
        //     console.log(`${name} 반가워`);
            
        //     const res = await back();
        //     console.log(`${txt}을 실행했구나`);
        //     const result = await hell();
        //     console.log(`여기는${message}`);
        // }




// call('kim').then(function(name){
        //     console.log(name + "반가워");
        //     return back();
        // }).then(function(txt){
            
        //     console.log(txt+"을 실행했구나");
        //     return hell();
        // }).then(function(message){
        //     console.log("여기는 "+message);
        // })
























    </script>
</body>
</html>